
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>6.1 수정주가 크롤링</title>
    
  <link rel="stylesheet" href="_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "hyunyulhenry/quant_python");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  <img src="_static/logo.png" class="logo" alt="logo">
  
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="index.html">
   파이썬을 이용한 퀀트 투자 포트폴리오 만들기
  </a>
 </li>
</ul>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="01_data_programming.html">
   1. 퀀트 투자의 심장: 데이터와 프로그래밍
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_information.html">
   2. 크롤링을 위한 기본 지식
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_api.html">
   3. API를 이용한 데이터 수집
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_crawl_practice.html">
   5. 금융 데이터 수집하기 (기본)
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/06_crawling_actual.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/hyunyulhenry/quant_python/master?urlpath=tree/06_crawling_actual.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   6.1.1 개별종목 주가 크롤링
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   6.1.2 전 종목 주가 크롤링
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   6.2 재무제표 및 가치지표 크롤링
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     6.2.1 재무제표 다운로드
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id6">
   6.2.2 가치지표 계산하기
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id7">
   6.2.3 전 종목 재무제표 및 가치지표 다운로드
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dart-open-api">
   6.3 DART의 Open API를 이용한 데이터 수집하기
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#api-key">
     6.3.1 API Key발급 및 추가하기
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     6.3.2 고유번호 다운로드
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     6.3.3 공시검색
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id10">
       6.3.3.1 전체 공시 검색 공시 검색
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id11">
       6.3.3.2 특정 기업의 공시 검색
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     6.3.4 사업보고서 주요 정보
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     6.3.5 상장기업 재무정보
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id14">
       6.3.5.1 단일회사 및 다중회사 주요계정
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id15">
     6.3.6 단일회사 전체 재무제표
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="id1">
<h1>6.1 수정주가 크롤링<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id2">
<h2>6.1.1 개별종목 주가 크롤링<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>티커 불러옴</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">KOR_ticker</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/KOR_ticker.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">KOR_ticker</span><span class="p">[</span><span class="s1">&#39;종목코드&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>앞에 0이 삭제됨</p></li>
<li><p>6자리로 만들어 줌</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">KOR_ticker</span><span class="p">[</span><span class="s1">&#39;종목코드&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">KOR_ticker</span><span class="p">[</span><span class="s1">&#39;종목코드&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">KOR_ticker</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;data/KOR_price&#39;</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;data/KOR_price&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">name</span> <span class="o">=</span> <span class="n">KOR_ticker</span><span class="p">[</span><span class="s1">&#39;종목코드&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>먼저 빈 데이터프레임 만들어줌</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>

<span class="n">price</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Price&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]})</span>
<span class="n">price</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">price</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>삼성전자 주가 예제</p></li>
<li><p>url: https://fchart.stock.naver.com/siseJson.nhn?symbol=005930&amp;requestType=1&amp;startTime=20191117&amp;endTime=20210124&amp;timeframe=day</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dateutil.relativedelta</span> <span class="kn">import</span> <span class="n">relativedelta</span>
<span class="kn">import</span> <span class="nn">requests</span> <span class="k">as</span> <span class="nn">rq</span>

<span class="n">fr</span> <span class="o">=</span> <span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">+</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">years</span><span class="o">=-</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">to</span> <span class="o">=</span> <span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://fchart.stock.naver.com/siseJson.nhn?symbol=&#39;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;&amp;requestType=1&amp;startTime=&#39;</span><span class="o">+</span><span class="n">fr</span><span class="o">+</span><span class="s1">&#39;&amp;endTime=&#39;</span><span class="o">+</span><span class="n">to</span><span class="o">+</span><span class="s1">&#39;&amp;timeframe=day&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">rq</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">content</span>

<span class="n">head</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>

<span class="n">data_price</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_price</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="n">price</span> <span class="o">=</span> <span class="n">data_price</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">price</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">]</span>
<span class="n">price</span> <span class="o">=</span> <span class="n">price</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">price</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">price</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;(\d+)&#39;</span><span class="p">)</span>
<span class="n">price</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">price</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">))</span>

<span class="n">price</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">price</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">price</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/KOR_price/&#39;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_price.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id3">
<h2>6.1.2 전 종목 주가 크롤링<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">dateutil.relativedelta</span> <span class="kn">import</span> <span class="n">relativedelta</span>
<span class="kn">import</span> <span class="nn">requests</span> <span class="k">as</span> <span class="nn">rq</span>
<span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;data/KOR_price&#39;</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;data/KOR_price&#39;</span><span class="p">)</span>

<span class="n">KOR_ticker</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/KOR_ticker.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">KOR_ticker</span><span class="p">[</span><span class="s1">&#39;종목코드&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">KOR_ticker</span><span class="p">[</span><span class="s1">&#39;종목코드&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="n">error_ticker</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">KOR_ticker</span><span class="p">)):</span> 

    <span class="c1"># 빈 데이터프레임 생성</span>
    <span class="n">price</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Price&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]})</span>
    <span class="n">price</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)]</span>
    
    <span class="c1"># 티커 선택</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">KOR_ticker</span><span class="p">[</span><span class="s1">&#39;종목코드&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
    
    <span class="c1"># 시작일과 종료일 </span>
    <span class="n">fr</span> <span class="o">=</span> <span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">+</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">years</span><span class="o">=-</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">to</span> <span class="o">=</span> <span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    
    <span class="c1"># 오류 발생 시 이를 무시하고 다음 루프로 진행</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># url 생성</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://fchart.stock.naver.com/siseJson.nhn?symbol=&#39;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;&amp;requestType=1&amp;startTime=&#39;</span><span class="o">+</span><span class="n">fr</span><span class="o">+</span><span class="s1">&#39;&amp;endTime=&#39;</span><span class="o">+</span><span class="n">to</span><span class="o">+</span><span class="s1">&#39;&amp;timeframe=day&#39;</span>
        
        <span class="c1"># 데이터 다운로드</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">rq</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">content</span>
        <span class="n">data_price</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">data</span><span class="p">))</span> 
        
        <span class="c1"># 필요한 열만 선택 후 클렌징</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">data_price</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
        <span class="n">price</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">]</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">price</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
        <span class="n">price</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">price</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;(\d+)&#39;</span><span class="p">)</span>
        <span class="n">price</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">price</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">))</span>
        <span class="n">price</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="c1"># 오류 발생시 해당 종목명을 출력하고 다음 루프로 이동</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error in ticker &#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">error_ticker</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    
    <span class="c1"># 다운로드 받은 파일을 생성한 폴더 내 csv 파일로 저장</span>
    <span class="n">price</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/KOR_price/&#39;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_price.csv&#39;</span><span class="p">)</span>
    
    <span class="c1"># 타임슬립 적용</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>    
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id4">
<h2>6.2 재무제표 및 가치지표 크롤링<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3>6.2.1 재무제표 다운로드<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;data/KOR_fs&#39;</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;data/KOR_fs&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://comp.fnguide.com/SVO2/ASP/SVD_Finance.asp?pGB=1&amp;gicode=A005930&#39;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[  IFRS(연결)    2017/12    2018/12    2019/12    2020/09       전년동기  전년동기(%)
 0      매출액  2395754.0  2437714.0  2304009.0  1752555.0  1705161.0      2.8
 1     매출원가  1292907.0  1323944.0  1472395.0  1066834.0  1086850.0     -1.8
 2    매출총이익  1102847.0  1113770.0   831613.0   685721.0   618311.0     10.9,
   IFRS(연결)   2019/12   2020/03   2020/06   2020/09      전년동기  전년동기(%)
 0      매출액  598848.0  553252.0  529661.0  669642.0  620035.0      8.0
 1     매출원가  385545.0  348067.0  319062.0  399705.0  399939.0     -0.1
 2    매출총이익  213302.0  205185.0  210599.0  269937.0  220096.0     22.6,
               IFRS(연결)    2017/12    2018/12    2019/12    2020/09
 0                   자산  3017521.0  3393572.0  3525645.0  3757887.0
 1   유동자산계산에 참여한 계정 펼치기  1469825.0  1746974.0  1813853.0  2036349.0
 2  비유동자산계산에 참여한 계정 펼치기  1547696.0  1646598.0  1711792.0  1721538.0,
               IFRS(연결)    2019/12    2020/03    2020/06    2020/09
 0                   자산  3525645.0  3574575.0  3579595.0  3757887.0
 1   유동자산계산에 참여한 계정 펼치기  1813853.0  1867397.0  1861368.0  2036349.0
 2  비유동자산계산에 참여한 계정 펼치기  1711792.0  1707178.0  1718227.0  1721538.0,
          IFRS(연결)   2017/12   2018/12   2019/12   2020/09
 0    영업활동으로인한현금흐름  621620.0  670319.0  453829.0  407724.0
 1           당기순손익  421867.0  443449.0  217389.0  198007.0
 2  법인세비용차감전계속사업이익       NaN       NaN       NaN       NaN,
          IFRS(연결)   2019/12   2020/03   2020/06   2020/09
 0    영업활동으로인한현금흐름  197171.0  118299.0  147982.0  141444.0
 1           당기순손익   52270.0   48849.0   55551.0   93607.0
 2  법인세비용차감전계속사업이익       NaN       NaN       NaN       NaN]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_IS</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">data_BS</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">data_CF</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_IS</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;IFRS(연결)&#39;, &#39;2017/12&#39;, &#39;2018/12&#39;, &#39;2019/12&#39;, &#39;2020/09&#39;, &#39;전년동기&#39;,
       &#39;전년동기(%)&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_IS</span> <span class="o">=</span> <span class="n">data_IS</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_IS</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_fs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_IS</span><span class="p">,</span> <span class="n">data_BS</span><span class="p">,</span> <span class="n">data_CF</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">data_fs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_fs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;계산에 참여한 계정 펼치기&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">},</span> <span class="n">regex</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">data_fs</span> <span class="o">=</span> <span class="n">data_fs</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">data_fs</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">data_fs</span> <span class="o">=</span> <span class="n">data_fs</span><span class="p">[</span><span class="o">~</span><span class="n">data_fs</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">)]</span>
<span class="n">data_fs</span> <span class="o">=</span> <span class="n">data_fs</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">like</span> <span class="o">=</span> <span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_fs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>2017/12</th>
      <th>2018/12</th>
      <th>2019/12</th>
    </tr>
    <tr>
      <th>IFRS(연결)</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>매출액</th>
      <td>2395754.0</td>
      <td>2437714.0</td>
      <td>2304009.0</td>
    </tr>
    <tr>
      <th>매출원가</th>
      <td>1292907.0</td>
      <td>1323944.0</td>
      <td>1472395.0</td>
    </tr>
    <tr>
      <th>매출총이익</th>
      <td>1102847.0</td>
      <td>1113770.0</td>
      <td>831613.0</td>
    </tr>
    <tr>
      <th>판매비와관리비</th>
      <td>566397.0</td>
      <td>524903.0</td>
      <td>553928.0</td>
    </tr>
    <tr>
      <th>영업이익</th>
      <td>536450.0</td>
      <td>588867.0</td>
      <td>277685.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_fs</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2017/12    float64
2018/12    float64
2019/12    float64
dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_fs</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/KOR_fs/005930_fs.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id6">
<h2>6.2.2 가치지표 계산하기<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;data/KOR_value&#39;</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;data/KOR_value&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">value_type</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;지배주주순이익&#39;</span><span class="p">,</span> <span class="s1">&#39;자본&#39;</span><span class="p">,</span> <span class="s1">&#39;영업활동으로인한현금흐름&#39;</span><span class="p">,</span> <span class="s1">&#39;매출액&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">value_index</span> <span class="o">=</span> <span class="n">data_fs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">value_type</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,[(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_fs</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">value_index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                2019/12
IFRS(연결)               
지배주주순이익        215051.0
자본            2628804.0
영업활동으로인한현금흐름   453829.0
매출액           2304009.0
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>현재 주가 크롤링하기</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://comp.fnguide.com/SVO2/ASP/SVD_Main.asp?pGB=1&amp;gicode=A005930&#39;</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">url</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>종가/ 전일대비</td>
      <td>83,500/ +1,000</td>
      <td>거래량</td>
      <td>18036835</td>
    </tr>
    <tr>
      <th>1</th>
      <td>52주.최고가/ 최저가</td>
      <td>91,000/ 42,500</td>
      <td>거래대금(억원)</td>
      <td>14992</td>
    </tr>
    <tr>
      <th>2</th>
      <td>수익률(1M/ 3M/ 6M/ 1Y)</td>
      <td>-0.48/ +38.47/ +46.75/ +40.34</td>
      <td>외국인 보유비중</td>
      <td>54.93</td>
    </tr>
    <tr>
      <th>3</th>
      <td>시가총액(상장예정포함,억원)</td>
      <td>5596173</td>
      <td>베타(1년)</td>
      <td>1.00725</td>
    </tr>
    <tr>
      <th>4</th>
      <td>시가총액(보통주,억원)</td>
      <td>4984768</td>
      <td>액면가</td>
      <td>100</td>
    </tr>
    <tr>
      <th>5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>발행주식수(보통주/ 우선주)</td>
      <td>5,969,782,550/ 822,886,700</td>
      <td>유동주식수/비율(보통주)</td>
      <td>4,705,523,798 / 78.82</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">price</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">price</span> <span class="o">=</span> <span class="n">price</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">price</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;[0-9]+&quot;</span><span class="p">,</span> <span class="n">price</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">price</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>83500
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">share</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">share</span> <span class="o">=</span> <span class="n">share</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">share</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;[0-9]+&quot;</span><span class="p">,</span> <span class="n">share</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">share</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5969782550
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">data_value</span> <span class="o">=</span> <span class="n">price</span> <span class="o">/</span> <span class="p">(</span><span class="n">value_index</span> <span class="o">*</span> <span class="mi">100000000</span> <span class="o">/</span> <span class="n">share</span><span class="p">)</span>
<span class="n">data_value</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PER&#39;</span><span class="p">,</span> <span class="s1">&#39;PBR&#39;</span><span class="p">,</span> <span class="s1">&#39;PCR&#39;</span><span class="p">,</span> <span class="s1">&#39;PSR&#39;</span><span class="p">]</span>
<span class="n">data_value</span><span class="p">[</span><span class="n">data_value</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_value</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>2019/12</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>PER</th>
      <td>8.159266</td>
    </tr>
    <tr>
      <th>PBR</th>
      <td>0.812227</td>
    </tr>
    <tr>
      <th>PCR</th>
      <td>13.248969</td>
    </tr>
    <tr>
      <th>PSR</th>
      <td>0.804929</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_value</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/KOR_value/005930_value.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id7">
<h2>6.2.3 전 종목 재무제표 및 가치지표 다운로드<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;data/KOR_fs&#39;</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;data/KOR_fs&#39;</span><span class="p">)</span>
    
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;data/KOR_value&#39;</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;data/KOR_value&#39;</span><span class="p">)</span>

<span class="n">KOR_ticker</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/KOR_ticker.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">KOR_ticker</span><span class="p">[</span><span class="s1">&#39;종목코드&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">KOR_ticker</span><span class="p">[</span><span class="s1">&#39;종목코드&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="n">error_ticker</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">KOR_ticker</span><span class="p">)):</span>
    
    <span class="c1"># 빈 데이터프레임 생성</span>
    <span class="n">data_fs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]})</span>
    <span class="n">data_value</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]})</span>
    
    <span class="c1"># 티커 선택</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">KOR_ticker</span><span class="p">[</span><span class="s1">&#39;종목코드&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
    
    <span class="c1"># 오류 발생 시 이를 무시하고 다음 루프로 진행</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># url 생성</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://comp.fnguide.com/SVO2/ASP/SVD_Finance.asp?pGB=1&amp;gicode=A&#39;</span><span class="o">+</span><span class="n">name</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        
        <span class="c1"># 데이터 다운로드 후 테이블 추출</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
                
        <span class="n">data_IS</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">data_BS</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">data_CF</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">data_IS</span> <span class="o">=</span> <span class="n">data_IS</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_IS</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">)]</span>
        
        <span class="c1"># 클렌징</span>
        <span class="n">data_fs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_IS</span><span class="p">,</span> <span class="n">data_BS</span><span class="p">,</span> <span class="n">data_CF</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">data_fs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_fs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;계산에 참여한 계정 펼치기&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">},</span> <span class="n">regex</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">data_fs</span> <span class="o">=</span> <span class="n">data_fs</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">data_fs</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">data_fs</span> <span class="o">=</span> <span class="n">data_fs</span><span class="p">[</span><span class="o">~</span><span class="n">data_fs</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">)]</span>
        <span class="n">data_fs</span> <span class="o">=</span> <span class="n">data_fs</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">like</span> <span class="o">=</span> <span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        
        <span class="c1"># 가치 지표 선택</span>
        <span class="n">value_type</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;지배주주순이익&#39;</span><span class="p">,</span> <span class="s1">&#39;자본&#39;</span><span class="p">,</span> <span class="s1">&#39;영업활동으로인한현금흐름&#39;</span><span class="p">,</span> <span class="s1">&#39;매출액&#39;</span><span class="p">]</span>            
        <span class="n">value_index</span> <span class="o">=</span> <span class="n">data_fs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">value_type</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,[(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_fs</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]]</span>    
        
        <span class="c1"># 현재 주가</span>
        <span class="n">url_snap</span> <span class="o">=</span> <span class="s1">&#39;http://comp.fnguide.com/SVO2/ASP/SVD_Main.asp?pGB=1&amp;gicode=A&#39;</span><span class="o">+</span><span class="n">name</span>
        <span class="n">data_snap</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">url_snap</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        
        <span class="n">price</span> <span class="o">=</span> <span class="n">data_snap</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">price</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">price</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;[0-9]+&quot;</span><span class="p">,</span> <span class="n">price</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="c1"># 상장 주식수</span>
        <span class="n">share</span> <span class="o">=</span> <span class="n">data_snap</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">share</span> <span class="o">=</span> <span class="n">share</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">share</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;[0-9]+&quot;</span><span class="p">,</span> <span class="n">share</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="n">data_value</span> <span class="o">=</span> <span class="n">price</span> <span class="o">/</span> <span class="p">(</span><span class="n">value_index</span> <span class="o">*</span> <span class="mi">100000000</span> <span class="o">/</span> <span class="n">share</span><span class="p">)</span>
        <span class="n">data_value</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PER&#39;</span><span class="p">,</span> <span class="s1">&#39;PBR&#39;</span><span class="p">,</span> <span class="s1">&#39;PCR&#39;</span><span class="p">,</span> <span class="s1">&#39;PSR&#39;</span><span class="p">]</span>
        <span class="n">data_value</span><span class="p">[</span><span class="n">data_value</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>     
        
    <span class="k">except</span><span class="p">:</span>
        <span class="c1"># 오류 발생시 해당 종목명을 출력하고 다음 루프로 이동</span>
        <span class="c1"># count_ticker에 오류발생 종목 저장, 마감 후 원인 파악</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error in ticker &#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">error_ticker</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    
    <span class="c1"># 다운로드 받은 파일을 생성한 폴더 내 csv 파일로 저장    </span>
    <span class="n">data_fs</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/KOR_fs/&#39;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_fs.csv&#39;</span><span class="p">)</span>
    <span class="n">data_value</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/KOR_value/&#39;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_value.csv&#39;</span><span class="p">)</span>
    
    <span class="c1"># 타임슬립 적용</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Error in ticker 105560
Error in ticker 055550
Error in ticker 032830
Error in ticker 086790
Error in ticker 000810
Error in ticker 316140
Error in ticker 006800
Error in ticker 024110
Error in ticker 071050
Error in ticker 016360
Error in ticker 029780
Error in ticker 336260
Error in ticker 039490
Error in ticker 005940
Error in ticker 005830
Error in ticker 088350
Error in ticker 008560
Error in ticker 357780
Error in ticker 058470
Error in ticker 235980
Error in ticker 001450
Error in ticker 138930
Error in ticker 000060
Error in ticker 323990
Error in ticker 336370
Error in ticker 141080
Error in ticker 268600
Error in ticker 003520
Error in ticker 064760
Error in ticker 138040
Error in ticker 298380
Error in ticker 139130
Error in ticker 175330
Error in ticker 178920
Error in ticker 363280
Error in ticker 314130
Error in ticker 005690
Error in ticker 033270
Error in ticker 003690
Error in ticker 213420
Error in ticker 131970
Error in ticker 058820
Error in ticker 001880
Error in ticker 071840
Error in ticker 293780
Error in ticker 272450
Error in ticker 085620
Error in ticker 001360
Error in ticker 003470
Error in ticker 206650
Error in ticker 033660
Error in ticker 082640
Error in ticker 003540
Error in ticker 281820
Error in ticker 353200
Error in ticker 003530
Error in ticker 344820
Error in ticker 007390
Error in ticker 222080
Error in ticker 005070
Error in ticker 015350
Error in ticker 166090
Error in ticker 065660
Error in ticker 298060
Error in ticker 319660
Error in ticker 000400
Error in ticker 330860
Error in ticker 027360
Error in ticker 174900
Error in ticker 034830
Error in ticker 030610
Error in ticker 006390
Error in ticker 332570
Error in ticker 001720
Error in ticker 123890
Error in ticker 053580
Error in ticker 041190
Error in ticker 010050
Error in ticker 029960
Error in ticker 101360
Error in ticker 000370
Error in ticker 001200
Error in ticker 001510
Error in ticker 025860
Error in ticker 004700
Error in ticker 002780
Error in ticker 109820
Error in ticker 293480
Error in ticker 214390
Error in ticker 225570
Error in ticker 216080
Error in ticker 299660
Error in ticker 001500
Error in ticker 078020
Error in ticker 002210
Error in ticker 005500
Error in ticker 138610
Error in ticker 294140
Error in ticker 083420
Error in ticker 304840
Error in ticker 187870
Error in ticker 354200
Error in ticker 353810
Error in ticker 025950
Error in ticker 241820
Error in ticker 317400
Error in ticker 226330
Error in ticker 047920
Error in ticker 016800
Error in ticker 256940
Error in ticker 002960
Error in ticker 102940
Error in ticker 307750
Error in ticker 084680
Error in ticker 289080
Error in ticker 044490
Error in ticker 104700
Error in ticker 241840
Error in ticker 217330
Error in ticker 199820
Error in ticker 272550
Error in ticker 234340
Error in ticker 037560
Error in ticker 045660
Error in ticker 123860
Error in ticker 306200
Error in ticker 253840
Error in ticker 060280
Error in ticker 126340
Error in ticker 004310
Error in ticker 290670
Error in ticker 267850
Error in ticker 217600
Error in ticker 120240
Error in ticker 032300
Error in ticker 234690
Error in ticker 264450
Error in ticker 005390
Error in ticker 087010
Error in ticker 101140
Error in ticker 061250
Error in ticker 125210
Error in ticker 012790
Error in ticker 037710
Error in ticker 065530
Error in ticker 004380
Error in ticker 006620
Error in ticker 144620
Error in ticker 030210
Error in ticker 291650
Error in ticker 151860
Error in ticker 100790
Error in ticker 331920
Error in ticker 288620
Error in ticker 035510
Error in ticker 256840
Error in ticker 016610
Error in ticker 111710
Error in ticker 239610
Error in ticker 003120
Error in ticker 153710
Error in ticker 001270
Error in ticker 043610
Error in ticker 282880
Error in ticker 036030
Error in ticker 019550
Error in ticker 086890
Error in ticker 347000
Error in ticker 009520
Error in ticker 225530
Error in ticker 021320
Error in ticker 220260
Error in ticker 065450
Error in ticker 330350
Error in ticker 290690
Error in ticker 000970
Error in ticker 037070
Error in ticker 301300
Error in ticker 000540
Error in ticker 267320
Error in ticker 023910
Error in ticker 064290
Error in ticker 033200
Error in ticker 302550
Error in ticker 023760
Error in ticker 094170
Error in ticker 054670
Error in ticker 057680
Error in ticker 347740
Error in ticker 011150
Error in ticker 012690
Error in ticker 023960
Error in ticker 023450
Error in ticker 002630
Error in ticker 114450
Error in ticker 106190
Error in ticker 072020
Error in ticker 014160
Error in ticker 312610
Error in ticker 003350
Error in ticker 214430
Error in ticker 011370
Error in ticker 006380
Error in ticker 046210
Error in ticker 011500
Error in ticker 089890
Error in ticker 030960
Error in ticker 007110
Error in ticker 347890
Error in ticker 352940
Error in ticker 263770
Error in ticker 002760
Error in ticker 015590
Error in ticker 134380
Error in ticker 065650
Error in ticker 013700
Error in ticker 003830
Error in ticker 171120
Error in ticker 037230
Error in ticker 024090
Error in ticker 148250
Error in ticker 131030
Error in ticker 317120
Error in ticker 246710
Error in ticker 019660
Error in ticker 094850
Error in ticker 120030
Error in ticker 004440
Error in ticker 100590
Error in ticker 009460
Error in ticker 009320
Error in ticker 260660
Error in ticker 200470
Error in ticker 002700
Error in ticker 089140
Error in ticker 003460
Error in ticker 225220
Error in ticker 045340
Error in ticker 105740
Error in ticker 093240
Error in ticker 012280
Error in ticker 036560
Error in ticker 054220
Error in ticker 018310
Error in ticker 094860
Error in ticker 305090
Error in ticker 021080
Error in ticker 042520
Error in ticker 044960
Error in ticker 007330
Error in ticker 264660
Error in ticker 211270
Error in ticker 290380
Error in ticker 001750
Error in ticker 099750
Error in ticker 034300
Error in ticker 060370
Error in ticker 009190
Error in ticker 263800
Error in ticker 052670
Error in ticker 164060
Error in ticker 277880
Error in ticker 001840
Error in ticker 264900
Error in ticker 092440
Error in ticker 024060
Error in ticker 036670
Error in ticker 014570
Error in ticker 006220
Error in ticker 134790
Error in ticker 001290
Error in ticker 066130
Error in ticker 006050
Error in ticker 241520
Error in ticker 014710
Error in ticker 229000
Error in ticker 010820
Error in ticker 002600
Error in ticker 237820
Error in ticker 307930
Error in ticker 327260
Error in ticker 006140
Error in ticker 023000
Error in ticker 289010
Error in ticker 256150
Error in ticker 215380
Error in ticker 027970
Error in ticker 008290
Error in ticker 064850
Error in ticker 073570
Error in ticker 001550
Error in ticker 060310
Error in ticker 198440
Error in ticker 007280
Error in ticker 222110
Error in ticker 226440
Error in ticker 293580
Error in ticker 066900
Error in ticker 000650
Error in ticker 010040
Error in ticker 006090
Error in ticker 016600
Error in ticker 018680
Error in ticker 038530
Error in ticker 089150
Error in ticker 246690
Error in ticker 058860
Error in ticker 195500
Error in ticker 170790
Error in ticker 303030
Error in ticker 017650
Error in ticker 033100
Error in ticker 018700
Error in ticker 023460
Error in ticker 013000
Error in ticker 026940
Error in ticker 123010
Error in ticker 219130
Error in ticker 222420
Error in ticker 196300
Error in ticker 273060
Error in ticker 043340
Error in ticker 100660
Error in ticker 005870
Error in ticker 286750
Error in ticker 225430
Error in ticker 051380
Error in ticker 067010
Error in ticker 322180
Error in ticker 313760
Error in ticker 016090
Error in ticker 003610
Error in ticker 023440
Error in ticker 133820
Error in ticker 065370
Error in ticker 027830
Error in ticker 016790
Error in ticker 007370
Error in ticker 102210
Error in ticker 021820
Error in ticker 008260
Error in ticker 013720
Error in ticker 004780
Error in ticker 001080
Error in ticker 252500
Error in ticker 008420
Error in ticker 023770
Error in ticker 065620
Error in ticker 081150
Error in ticker 009770
Error in ticker 270520
Error in ticker 039010
Error in ticker 004410
Error in ticker 101240
Error in ticker 294630
Error in ticker 052600
Error in ticker 103840
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Error in ticker 054180
Error in ticker 069730
Error in ticker 274090
Error in ticker 020180
Error in ticker 110020
Error in ticker 277070
Error in ticker 097800
Error in ticker 126640
Error in ticker 147760
Error in ticker 008870
Error in ticker 169330
Error in ticker 066410
Error in ticker 115500
Error in ticker 069460
Error in ticker 025820
Error in ticker 318000
Error in ticker 039670
Error in ticker 019590
Error in ticker 228340
Error in ticker 105550
Error in ticker 097870
Error in ticker 065570
Error in ticker 017480
Error in ticker 062970
Error in ticker 036480
Error in ticker 017510
Error in ticker 024850
Error in ticker 021040
Error in ticker 317870
Error in ticker 111820
Error in ticker 189690
Error in ticker 039610
Error in ticker 051630
Error in ticker 154030
Error in ticker 147830
Error in ticker 087600
Error in ticker 059120
Error in ticker 128660
Error in ticker 010280
Error in ticker 010660
Error in ticker 220180
Error in ticker 119500
Error in ticker 050860
Error in ticker 073010
Error in ticker 320000
Error in ticker 234920
Error in ticker 003680
Error in ticker 023350
Error in ticker 002290
Error in ticker 019570
Error in ticker 017000
Error in ticker 141070
Error in ticker 024830
Error in ticker 049830
Error in ticker 048470
Error in ticker 215480
Error in ticker 053050
Error in ticker 054630
Error in ticker 033250
Error in ticker 297570
Error in ticker 309930
Error in ticker 190650
Error in ticker 001000
Error in ticker 018470
Error in ticker 039240
Error in ticker 008470
Error in ticker 226400
Error in ticker 053290
Error in ticker 109080
Error in ticker 008110
Error in ticker 050320
Error in ticker 067730
Error in ticker 054930
Error in ticker 279600
Error in ticker 060480
Error in ticker 064480
Error in ticker 093640
Error in ticker 021880
Error in ticker 032080
Error in ticker 059100
Error in ticker 093380
Error in ticker 065420
Error in ticker 099410
Error in ticker 032580
Error in ticker 079170
Error in ticker 024940
Error in ticker 005030
Error in ticker 212560
Error in ticker 023790
Error in ticker 079000
Error in ticker 011420
Error in ticker 237750
Error in ticker 002690
Error in ticker 275630
Error in ticker 054300
Error in ticker 134060
Error in ticker 070590
Error in ticker 153460
Error in ticker 010420
Error in ticker 018500
Error in ticker 263540
Error in ticker 084870
Error in ticker 070300
Error in ticker 225590
Error in ticker 217190
Error in ticker 008830
Error in ticker 032280
Error in ticker 134580
Error in ticker 001420
Error in ticker 189860
Error in ticker 017250
Error in ticker 054410
Error in ticker 026910
Error in ticker 015020
Error in ticker 066430
Error in ticker 001770
Error in ticker 020400
Error in ticker 002420
Error in ticker 043360
Error in ticker 096870
Error in ticker 173130
Error in ticker 115610
Error in ticker 103230
Error in ticker 010580
Error in ticker 215090
Error in ticker 025890
Error in ticker 033790
Error in ticker 101680
Error in ticker 033600
Error in ticker 121890
Error in ticker 114570
Error in ticker 347140
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>금융주의 경우 매출액이 없어 PSR 계산 시 에러 발생</p></li>
<li><p>지배주주순이익 없는 종목 에러 발생</p></li>
<li><p>12월 결산 아닌 종목 에러 발생</p></li>
</ul>
</div>
<div class="section" id="dart-open-api">
<h2>6.3 DART의 Open API를 이용한 데이터 수집하기<a class="headerlink" href="#dart-open-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="api-key">
<h3>6.3.1 API Key발급 및 추가하기<a class="headerlink" href="#api-key" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import keyring</span>
<span class="c1"># keyring.set_password(&#39;Henry&#39;, &#39;dart_api_key&#39;, &#39;Your API Key&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">keyring</span>
<span class="n">dart_api</span> <span class="o">=</span> <span class="n">keyring</span><span class="o">.</span><span class="n">get_password</span><span class="p">(</span><span class="s1">&#39;Henry&#39;</span><span class="p">,</span> <span class="s1">&#39;dart_api_key&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id8">
<h3>6.3.2 고유번호 다운로드<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">codezip_url</span> <span class="o">=</span>  <span class="s1">&#39;https://opendart.fss.or.kr/api/corpCode.xml?crtfc_key=&#39;</span><span class="o">+</span><span class="n">dart_api</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span> <span class="k">as</span> <span class="nn">rq</span>
<span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>
<span class="kn">import</span> <span class="nn">zipfile</span>

<span class="n">codezip_data</span> <span class="o">=</span> <span class="n">rq</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">codezip_url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">codezip_data</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;Content-Disposition&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;: attachment; filename=CORPCODE.zip&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">codezip_file</span> <span class="o">=</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">codezip_data</span><span class="o">.</span><span class="n">content</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">codezip_file</span><span class="o">.</span><span class="n">namelist</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;CORPCODE.xml&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">code_data</span>  <span class="o">=</span> <span class="n">codezip_file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;CORPCODE.xml&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xmltodict</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">data_odict</span> <span class="o">=</span> <span class="n">xmltodict</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">code_data</span><span class="p">)</span>
<span class="n">data_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data_odict</span><span class="p">))</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;result&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="n">corp_list</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corp_list</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>corp_code</th>
      <th>corp_name</th>
      <th>stock_code</th>
      <th>modify_date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>00434003</td>
      <td>다코</td>
      <td>None</td>
      <td>20170630</td>
    </tr>
    <tr>
      <th>1</th>
      <td>00434456</td>
      <td>일산약품</td>
      <td>None</td>
      <td>20170630</td>
    </tr>
    <tr>
      <th>2</th>
      <td>00430964</td>
      <td>굿앤엘에스</td>
      <td>None</td>
      <td>20170630</td>
    </tr>
    <tr>
      <th>3</th>
      <td>00432403</td>
      <td>한라판지</td>
      <td>None</td>
      <td>20170630</td>
    </tr>
    <tr>
      <th>4</th>
      <td>00388953</td>
      <td>크레디피아제이십오차유동화전문회사</td>
      <td>None</td>
      <td>20170630</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corp_list</span> <span class="o">=</span> <span class="n">corp_list</span><span class="p">[</span><span class="o">~</span><span class="n">corp_list</span><span class="o">.</span><span class="n">stock_code</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="kc">None</span><span class="p">])]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corp_list</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/corp_list.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id9">
<h3>6.3.3 공시검색<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id10">
<h4>6.3.3.1 전체 공시 검색 공시 검색<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">dateutil.relativedelta</span> <span class="kn">import</span> <span class="n">relativedelta</span>

<span class="n">bgn_date</span> <span class="o">=</span> <span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">+</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=-</span><span class="mi">7</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">end_date</span> <span class="o">=</span> <span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">notice_url</span> <span class="o">=</span> <span class="s1">&#39;https://opendart.fss.or.kr/api/list.json?crtfc_key=&#39;</span><span class="o">+</span><span class="n">dart_api</span><span class="o">+</span><span class="s1">&#39;&amp;bgn_de=&#39;</span><span class="o">+</span><span class="n">bgn_date</span><span class="o">+</span><span class="s1">&#39;&amp;end_de=&#39;</span><span class="o">+</span><span class="n">end_date</span><span class="o">+</span><span class="s1">&#39;&amp;page_no=1&amp;page_count=100&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">notice_data</span>  <span class="o">=</span> <span class="n">rq</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">notice_url</span><span class="p">)</span>
<span class="n">notice_data_df</span> <span class="o">=</span> <span class="n">notice_data</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="n">notice_data_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">notice_data_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">notice_data_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>corp_code</th>
      <th>corp_name</th>
      <th>stock_code</th>
      <th>corp_cls</th>
      <th>report_nm</th>
      <th>rcept_no</th>
      <th>flr_nm</th>
      <th>rcept_dt</th>
      <th>rm</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>00595012</td>
      <td>애큐온캐피탈</td>
      <td></td>
      <td>E</td>
      <td>투자설명서(일괄신고)</td>
      <td>20210208000605</td>
      <td>애큐온캐피탈</td>
      <td>20210208</td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>00108940</td>
      <td>대성홀딩스</td>
      <td>016710</td>
      <td>Y</td>
      <td>증권신고서(채무증권)</td>
      <td>20210208000604</td>
      <td>대성홀딩스</td>
      <td>20210208</td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>00115694</td>
      <td>DB금융투자</td>
      <td>016610</td>
      <td>Y</td>
      <td>일괄신고추가서류(파생결합증권-주가연계증권)</td>
      <td>20210208000603</td>
      <td>DB금융투자</td>
      <td>20210208</td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>00140177</td>
      <td>GS리테일</td>
      <td>007070</td>
      <td>Y</td>
      <td>현금ㆍ현물배당결정</td>
      <td>20210208800895</td>
      <td>GS리테일</td>
      <td>20210208</td>
      <td>유</td>
    </tr>
    <tr>
      <th>4</th>
      <td>00585219</td>
      <td>세원셀론텍</td>
      <td>091090</td>
      <td>Y</td>
      <td>사외이사의선임ㆍ해임또는중도퇴임에관한신고</td>
      <td>20210208000602</td>
      <td>세원셀론텍</td>
      <td>20210208</td>
      <td></td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>95</th>
      <td>00361008</td>
      <td>HSD엔진</td>
      <td>082740</td>
      <td>Y</td>
      <td>단기차입금증가결정</td>
      <td>20210208800796</td>
      <td>HSD엔진</td>
      <td>20210208</td>
      <td>유</td>
    </tr>
    <tr>
      <th>96</th>
      <td>00992543</td>
      <td>삼양옵틱스</td>
      <td>225190</td>
      <td>K</td>
      <td>현금ㆍ현물배당결정</td>
      <td>20210208900770</td>
      <td>삼양옵틱스</td>
      <td>20210208</td>
      <td>코</td>
    </tr>
    <tr>
      <th>97</th>
      <td>00300548</td>
      <td>현대리바트</td>
      <td>079430</td>
      <td>Y</td>
      <td>현금ㆍ현물배당결정</td>
      <td>20210208800794</td>
      <td>현대리바트</td>
      <td>20210208</td>
      <td>유</td>
    </tr>
    <tr>
      <th>98</th>
      <td>00372882</td>
      <td>KTcs</td>
      <td>058850</td>
      <td>Y</td>
      <td>연결재무제표기준영업(잠정)실적(공정공시)</td>
      <td>20210208800708</td>
      <td>KTcs</td>
      <td>20210208</td>
      <td>유</td>
    </tr>
    <tr>
      <th>99</th>
      <td>01262023</td>
      <td>루트락</td>
      <td>253610</td>
      <td>N</td>
      <td>소액공모실적보고서</td>
      <td>20210208000545</td>
      <td>루트락</td>
      <td>20210208</td>
      <td></td>
    </tr>
  </tbody>
</table>
<p>100 rows × 9 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="id11">
<h4>6.3.3.2 특정 기업의 공시 검색<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corp_list</span><span class="p">[</span><span class="n">corp_list</span><span class="p">[</span><span class="s1">&#39;corp_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;삼성전자&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>corp_code</th>
      <th>corp_name</th>
      <th>stock_code</th>
      <th>modify_date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3083</th>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>005930</td>
      <td>20201209</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bgn_date</span> <span class="o">=</span> <span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">+</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=-</span><span class="mi">30</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">end_date</span> <span class="o">=</span> <span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">corp_code</span>  <span class="o">=</span> <span class="s1">&#39;00126380&#39;</span>

<span class="n">notice_url_ss</span> <span class="o">=</span>  <span class="s1">&#39;https://opendart.fss.or.kr/api/list.json?crtfc_key=&#39;</span><span class="o">+</span><span class="n">dart_api</span><span class="o">+</span><span class="s1">&#39;&amp;corp_code=&#39;</span><span class="o">+</span><span class="n">corp_code</span><span class="o">+</span><span class="s1">&#39;&amp;bgn_de=&#39;</span><span class="o">+</span><span class="s1">&#39;&amp;end_de=&#39;</span><span class="o">+</span><span class="s1">&#39;&amp;page_no=1&amp;page_count=100&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">notice_data_ss</span>  <span class="o">=</span> <span class="n">rq</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">notice_url_ss</span><span class="p">)</span>
<span class="n">notice_data_ss_df</span> <span class="o">=</span> <span class="n">notice_data_ss</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="n">notice_data_ss_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">notice_data_ss_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">notice_data_ss_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>corp_code</th>
      <th>corp_name</th>
      <th>stock_code</th>
      <th>corp_cls</th>
      <th>report_nm</th>
      <th>rcept_no</th>
      <th>flr_nm</th>
      <th>rcept_dt</th>
      <th>rm</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>005930</td>
      <td>Y</td>
      <td>임원ㆍ주요주주특정증권등소유상황보고서</td>
      <td>20210208000166</td>
      <td>장세연</td>
      <td>20210208</td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>005930</td>
      <td>Y</td>
      <td>임원ㆍ주요주주특정증권등소유상황보고서</td>
      <td>20210208000100</td>
      <td>조필주</td>
      <td>20210208</td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>005930</td>
      <td>Y</td>
      <td>임원ㆍ주요주주특정증권등소유상황보고서</td>
      <td>20210208000022</td>
      <td>최호규</td>
      <td>20210208</td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">notice_url_exam</span>  <span class="o">=</span> <span class="n">notice_data_ss_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;rcept_no&#39;</span><span class="p">]</span>
<span class="n">notice_dart_url</span> <span class="o">=</span> <span class="s1">&#39;http://dart.fss.or.kr/dsaf001/main.do?rcpNo=&#39;</span><span class="o">+</span><span class="n">notice_url_exam</span>

<span class="nb">print</span><span class="p">(</span><span class="n">notice_dart_url</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>http://dart.fss.or.kr/dsaf001/main.do?rcpNo=20210208000166
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id12">
<h3>6.3.4 사업보고서 주요 정보<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corp_code</span> <span class="o">=</span> <span class="s1">&#39;00126380&#39;</span>
<span class="n">bsns_year</span> <span class="o">=</span> <span class="s1">&#39;2019&#39;</span>
<span class="n">reprt_code</span> <span class="o">=</span> <span class="s1">&#39;11011&#39;</span>

<span class="n">url_div</span> <span class="o">=</span> <span class="s1">&#39;https://opendart.fss.or.kr/api/alotMatter.json?crtfc_key=&#39;</span><span class="o">+</span><span class="n">dart_api</span><span class="o">+</span><span class="s1">&#39;&amp;corp_code=&#39;</span><span class="o">+</span><span class="n">corp_code</span><span class="o">+</span><span class="s1">&#39;&amp;bsns_year=&#39;</span><span class="o">+</span><span class="n">bsns_year</span><span class="o">+</span><span class="s1">&#39;&amp;reprt_code=&#39;</span><span class="o">+</span><span class="n">reprt_code</span>

<span class="n">div_data_ss</span> <span class="o">=</span> <span class="n">rq</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url_div</span><span class="p">)</span>
<span class="n">div_data_ss_df</span> <span class="o">=</span> <span class="n">div_data_ss</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="n">div_data_ss_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">div_data_ss_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">div_data_ss_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rcept_no</th>
      <th>corp_cls</th>
      <th>corp_code</th>
      <th>corp_name</th>
      <th>se</th>
      <th>thstrm</th>
      <th>frmtrm</th>
      <th>lwfr</th>
      <th>stock_knd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>주당액면가액(원)</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>(연결)당기순이익(백만원)</td>
      <td>21,505,054</td>
      <td>43,890,877</td>
      <td>41,344,569</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>(별도)당기순이익(백만원)</td>
      <td>15,353,323</td>
      <td>32,815,127</td>
      <td>28,800,837</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>(연결)주당순이익(원)</td>
      <td>3,166</td>
      <td>6,461</td>
      <td>5,997</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>현금배당금총액(백만원)</td>
      <td>9,619,243</td>
      <td>9,619,243</td>
      <td>5,826,302</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>주식배당금총액(백만원)</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>(연결)현금배당성향(%)</td>
      <td>44.70</td>
      <td>21.90</td>
      <td>14.10</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>현금배당수익률(%)</td>
      <td>2.60</td>
      <td>3.70</td>
      <td>1.70</td>
      <td>보통주</td>
    </tr>
    <tr>
      <th>8</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>현금배당수익률(%)</td>
      <td>3.10</td>
      <td>4.50</td>
      <td>2.10</td>
      <td>우선주</td>
    </tr>
    <tr>
      <th>9</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>주식배당수익률(%)</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
      <td>보통주</td>
    </tr>
    <tr>
      <th>10</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>주식배당수익률(%)</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
      <td>우선주</td>
    </tr>
    <tr>
      <th>11</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>주당 현금배당금(원)</td>
      <td>1,416</td>
      <td>1,416</td>
      <td>850</td>
      <td>보통주</td>
    </tr>
    <tr>
      <th>12</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>주당 현금배당금(원)</td>
      <td>1,417</td>
      <td>1,417</td>
      <td>851</td>
      <td>우선주</td>
    </tr>
    <tr>
      <th>13</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>주당 주식배당(주)</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
      <td>보통주</td>
    </tr>
    <tr>
      <th>14</th>
      <td>20200330003851</td>
      <td>Y</td>
      <td>00126380</td>
      <td>삼성전자</td>
      <td>주당 주식배당(주)</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
      <td>우선주</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="id13">
<h3>6.3.5 상장기업 재무정보<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id14">
<h4>6.3.5.1 단일회사 및 다중회사 주요계정<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corp_code</span> <span class="o">=</span> <span class="s1">&#39;00126380&#39;</span>
<span class="n">bsns_year</span> <span class="o">=</span> <span class="s1">&#39;2019&#39;</span>
<span class="n">reprt_code</span> <span class="o">=</span> <span class="s1">&#39;11011&#39;</span>

<span class="n">url_single</span> <span class="o">=</span> <span class="s1">&#39;https://opendart.fss.or.kr/api/fnlttSinglAcnt.json?crtfc_key=&#39;</span><span class="o">+</span><span class="n">dart_api</span><span class="o">+</span><span class="s1">&#39;&amp;corp_code=&#39;</span><span class="o">+</span><span class="n">corp_code</span><span class="o">+</span><span class="s1">&#39;&amp;bsns_year=&#39;</span><span class="o">+</span><span class="n">bsns_year</span><span class="o">+</span><span class="s1">&#39;&amp;reprt_code=&#39;</span><span class="o">+</span><span class="n">reprt_code</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fs_data_ss</span>  <span class="o">=</span> <span class="n">rq</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url_single</span><span class="p">)</span>
<span class="n">fs_data_ss_df</span> <span class="o">=</span> <span class="n">fs_data_ss</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="n">fs_data_ss_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">fs_data_ss_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fs_data_ss_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rcept_no</th>
      <th>reprt_code</th>
      <th>bsns_year</th>
      <th>corp_code</th>
      <th>stock_code</th>
      <th>fs_div</th>
      <th>fs_nm</th>
      <th>sj_div</th>
      <th>sj_nm</th>
      <th>account_nm</th>
      <th>thstrm_nm</th>
      <th>thstrm_dt</th>
      <th>thstrm_amount</th>
      <th>frmtrm_nm</th>
      <th>frmtrm_dt</th>
      <th>frmtrm_amount</th>
      <th>bfefrmtrm_nm</th>
      <th>bfefrmtrm_dt</th>
      <th>bfefrmtrm_amount</th>
      <th>ord</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>유동자산</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>181,385,260,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>174,697,424,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>146,982,464,000,000</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>비유동자산</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>171,179,237,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>164,659,820,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>154,769,626,000,000</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>자산총계</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>352,564,497,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>339,357,244,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>301,752,090,000,000</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>유동부채</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>63,782,764,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>69,081,510,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>67,175,114,000,000</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>비유동부채</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>25,901,312,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>22,522,557,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>20,085,548,000,000</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corp_code</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;00126380,00413046,00190321&#39;</span><span class="p">)</span>
<span class="n">bsns_year</span> <span class="o">=</span> <span class="s1">&#39;2019&#39;</span>
<span class="n">reprt_code</span> <span class="o">=</span> <span class="s1">&#39;11011&#39;</span>

<span class="n">url_multiple</span> <span class="o">=</span> <span class="s1">&#39;https://opendart.fss.or.kr/api/fnlttMultiAcnt.json?crtfc_key=&#39;</span><span class="o">+</span><span class="n">dart_api</span><span class="o">+</span><span class="s1">&#39;&amp;corp_code=&#39;</span><span class="o">+</span><span class="n">corp_code</span><span class="o">+</span><span class="s1">&#39;&amp;bsns_year=&#39;</span><span class="o">+</span><span class="n">bsns_year</span><span class="o">+</span><span class="s1">&#39;&amp;reprt_code=&#39;</span><span class="o">+</span><span class="n">reprt_code</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fs_data_multiple</span>  <span class="o">=</span> <span class="n">rq</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url_multiple</span><span class="p">)</span>
<span class="n">fs_data_multiple_df</span> <span class="o">=</span> <span class="n">fs_data_multiple</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="n">fs_data_multiple_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">fs_data_multiple_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fs_data_multiple_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rcept_no</th>
      <th>reprt_code</th>
      <th>bsns_year</th>
      <th>corp_code</th>
      <th>stock_code</th>
      <th>fs_div</th>
      <th>fs_nm</th>
      <th>sj_div</th>
      <th>sj_nm</th>
      <th>account_nm</th>
      <th>thstrm_nm</th>
      <th>thstrm_dt</th>
      <th>thstrm_amount</th>
      <th>frmtrm_nm</th>
      <th>frmtrm_dt</th>
      <th>frmtrm_amount</th>
      <th>bfefrmtrm_nm</th>
      <th>bfefrmtrm_dt</th>
      <th>bfefrmtrm_amount</th>
      <th>ord</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>유동자산</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>181,385,260,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>174,697,424,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>146,982,464,000,000</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>비유동자산</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>171,179,237,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>164,659,820,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>154,769,626,000,000</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>자산총계</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>352,564,497,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>339,357,244,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>301,752,090,000,000</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>유동부채</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>63,782,764,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>69,081,510,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>67,175,114,000,000</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>비유동부채</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>25,901,312,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>22,522,557,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>20,085,548,000,000</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fs_data_list</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">fs_data_multiple_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;corp_code&#39;</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fs_data_list</span><span class="p">[</span><span class="s1">&#39;00126380&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rcept_no</th>
      <th>reprt_code</th>
      <th>bsns_year</th>
      <th>corp_code</th>
      <th>stock_code</th>
      <th>fs_div</th>
      <th>fs_nm</th>
      <th>sj_div</th>
      <th>sj_nm</th>
      <th>account_nm</th>
      <th>thstrm_nm</th>
      <th>thstrm_dt</th>
      <th>thstrm_amount</th>
      <th>frmtrm_nm</th>
      <th>frmtrm_dt</th>
      <th>frmtrm_amount</th>
      <th>bfefrmtrm_nm</th>
      <th>bfefrmtrm_dt</th>
      <th>bfefrmtrm_amount</th>
      <th>ord</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>유동자산</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>181,385,260,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>174,697,424,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>146,982,464,000,000</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>비유동자산</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>171,179,237,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>164,659,820,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>154,769,626,000,000</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>자산총계</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>352,564,497,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>339,357,244,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>301,752,090,000,000</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>유동부채</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>63,782,764,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>69,081,510,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>67,175,114,000,000</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>005930</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>비유동부채</td>
      <td>제 51 기</td>
      <td>2019.12.31 현재</td>
      <td>25,901,312,000,000</td>
      <td>제 50 기</td>
      <td>2018.12.31 현재</td>
      <td>22,522,557,000,000</td>
      <td>제 49 기</td>
      <td>2017.12.31 현재</td>
      <td>20,085,548,000,000</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fs_data_list</span><span class="p">[</span><span class="s1">&#39;00413046&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rcept_no</th>
      <th>reprt_code</th>
      <th>bsns_year</th>
      <th>corp_code</th>
      <th>stock_code</th>
      <th>fs_div</th>
      <th>fs_nm</th>
      <th>sj_div</th>
      <th>sj_nm</th>
      <th>account_nm</th>
      <th>thstrm_nm</th>
      <th>thstrm_dt</th>
      <th>thstrm_amount</th>
      <th>frmtrm_nm</th>
      <th>frmtrm_dt</th>
      <th>frmtrm_amount</th>
      <th>bfefrmtrm_nm</th>
      <th>bfefrmtrm_dt</th>
      <th>bfefrmtrm_amount</th>
      <th>ord</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>52</th>
      <td>20200410002837</td>
      <td>11011</td>
      <td>2019</td>
      <td>00413046</td>
      <td>068270</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>유동자산</td>
      <td>제 29 기</td>
      <td>2019.12.31 현재</td>
      <td>1,787,340,254,600</td>
      <td>제 28 기</td>
      <td>2018.12.31 현재</td>
      <td>1,664,478,918,682</td>
      <td>제 27 기</td>
      <td>2017.12.31 현재</td>
      <td>1,614,033,788,024</td>
      <td>1</td>
    </tr>
    <tr>
      <th>53</th>
      <td>20200410002837</td>
      <td>11011</td>
      <td>2019</td>
      <td>00413046</td>
      <td>068270</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>비유동자산</td>
      <td>제 29 기</td>
      <td>2019.12.31 현재</td>
      <td>2,106,351,351,846</td>
      <td>제 28 기</td>
      <td>2018.12.31 현재</td>
      <td>1,876,147,755,272</td>
      <td>제 27 기</td>
      <td>2017.12.31 현재</td>
      <td>1,701,493,916,629</td>
      <td>3</td>
    </tr>
    <tr>
      <th>54</th>
      <td>20200410002837</td>
      <td>11011</td>
      <td>2019</td>
      <td>00413046</td>
      <td>068270</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>자산총계</td>
      <td>제 29 기</td>
      <td>2019.12.31 현재</td>
      <td>3,893,691,606,446</td>
      <td>제 28 기</td>
      <td>2018.12.31 현재</td>
      <td>3,540,626,673,954</td>
      <td>제 27 기</td>
      <td>2017.12.31 현재</td>
      <td>3,315,527,704,653</td>
      <td>5</td>
    </tr>
    <tr>
      <th>55</th>
      <td>20200410002837</td>
      <td>11011</td>
      <td>2019</td>
      <td>00413046</td>
      <td>068270</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>유동부채</td>
      <td>제 29 기</td>
      <td>2019.12.31 현재</td>
      <td>657,225,837,904</td>
      <td>제 28 기</td>
      <td>2018.12.31 현재</td>
      <td>678,087,471,395</td>
      <td>제 27 기</td>
      <td>2017.12.31 현재</td>
      <td>616,781,029,714</td>
      <td>7</td>
    </tr>
    <tr>
      <th>56</th>
      <td>20200410002837</td>
      <td>11011</td>
      <td>2019</td>
      <td>00413046</td>
      <td>068270</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>비유동부채</td>
      <td>제 29 기</td>
      <td>2019.12.31 현재</td>
      <td>329,507,580,221</td>
      <td>제 28 기</td>
      <td>2018.12.31 현재</td>
      <td>229,761,340,951</td>
      <td>제 27 기</td>
      <td>2017.12.31 현재</td>
      <td>266,817,280,825</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fs_data_list</span><span class="p">[</span><span class="s1">&#39;00190321&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rcept_no</th>
      <th>reprt_code</th>
      <th>bsns_year</th>
      <th>corp_code</th>
      <th>stock_code</th>
      <th>fs_div</th>
      <th>fs_nm</th>
      <th>sj_div</th>
      <th>sj_nm</th>
      <th>account_nm</th>
      <th>thstrm_nm</th>
      <th>thstrm_dt</th>
      <th>thstrm_amount</th>
      <th>frmtrm_nm</th>
      <th>frmtrm_dt</th>
      <th>frmtrm_amount</th>
      <th>bfefrmtrm_nm</th>
      <th>bfefrmtrm_dt</th>
      <th>bfefrmtrm_amount</th>
      <th>ord</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>26</th>
      <td>20200330004658</td>
      <td>11011</td>
      <td>2019</td>
      <td>00190321</td>
      <td>030200</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>유동자산</td>
      <td>제 38 기</td>
      <td>2019.12.31 현재</td>
      <td>11,898,255,000,000</td>
      <td>제 37 기</td>
      <td>2018.12.31 현재</td>
      <td>11,894,252,000,000</td>
      <td>제 36 기</td>
      <td>2017.12.31 현재</td>
      <td>9,672,412,000,000</td>
      <td>1</td>
    </tr>
    <tr>
      <th>27</th>
      <td>20200330004658</td>
      <td>11011</td>
      <td>2019</td>
      <td>00190321</td>
      <td>030200</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>비유동자산</td>
      <td>제 38 기</td>
      <td>2019.12.31 현재</td>
      <td>22,163,037,000,000</td>
      <td>제 37 기</td>
      <td>2018.12.31 현재</td>
      <td>20,294,578,000,000</td>
      <td>제 36 기</td>
      <td>2017.12.31 현재</td>
      <td>20,058,498,000,000</td>
      <td>3</td>
    </tr>
    <tr>
      <th>28</th>
      <td>20200330004658</td>
      <td>11011</td>
      <td>2019</td>
      <td>00190321</td>
      <td>030200</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>자산총계</td>
      <td>제 38 기</td>
      <td>2019.12.31 현재</td>
      <td>34,061,292,000,000</td>
      <td>제 37 기</td>
      <td>2018.12.31 현재</td>
      <td>32,188,830,000,000</td>
      <td>제 36 기</td>
      <td>2017.12.31 현재</td>
      <td>29,730,910,000,000</td>
      <td>5</td>
    </tr>
    <tr>
      <th>29</th>
      <td>20200330004658</td>
      <td>11011</td>
      <td>2019</td>
      <td>00190321</td>
      <td>030200</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>유동부채</td>
      <td>제 38 기</td>
      <td>2019.12.31 현재</td>
      <td>10,111,456,000,000</td>
      <td>제 37 기</td>
      <td>2018.12.31 현재</td>
      <td>9,387,704,000,000</td>
      <td>제 36 기</td>
      <td>2017.12.31 현재</td>
      <td>9,474,162,000,000</td>
      <td>7</td>
    </tr>
    <tr>
      <th>30</th>
      <td>20200330004658</td>
      <td>11011</td>
      <td>2019</td>
      <td>00190321</td>
      <td>030200</td>
      <td>CFS</td>
      <td>연결재무제표</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>비유동부채</td>
      <td>제 38 기</td>
      <td>2019.12.31 현재</td>
      <td>8,762,883,000,000</td>
      <td>제 37 기</td>
      <td>2018.12.31 현재</td>
      <td>8,069,846,000,000</td>
      <td>제 36 기</td>
      <td>2017.12.31 현재</td>
      <td>7,046,148,000,000</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="id15">
<h3>6.3.6 단일회사 전체 재무제표<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corp_code</span> <span class="o">=</span> <span class="s1">&#39;00126380&#39;</span>
<span class="n">bsns_year</span> <span class="o">=</span> <span class="s1">&#39;2019&#39;</span>
<span class="n">reprt_code</span> <span class="o">=</span> <span class="s1">&#39;11011&#39;</span>

<span class="n">url_fs_all</span> <span class="o">=</span> <span class="s1">&#39;https://opendart.fss.or.kr/api/fnlttSinglAcntAll.json?crtfc_key=&#39;</span><span class="o">+</span><span class="n">dart_api</span><span class="o">+</span><span class="s1">&#39;&amp;corp_code=&#39;</span><span class="o">+</span><span class="n">corp_code</span><span class="o">+</span><span class="s1">&#39;&amp;bsns_year=&#39;</span><span class="o">+</span><span class="n">bsns_year</span><span class="o">+</span><span class="s1">&#39;&amp;reprt_code=&#39;</span><span class="o">+</span><span class="n">reprt_code</span><span class="o">+</span><span class="s1">&#39;&amp;fs_div=CFS&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url_fs_all</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;https://opendart.fss.or.kr/api/fnlttSinglAcntAll.json?crtfc_key=b1a630e527b0e5ff5bd58ed81b49825017fa80b8&amp;corp_code=00126380&amp;bsns_year=2019&amp;reprt_code=11011&amp;fs_div=CFS&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fs_data_all</span>  <span class="o">=</span> <span class="n">rq</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url_fs_all</span><span class="p">)</span>
<span class="n">fs_data_all_df</span> <span class="o">=</span> <span class="n">fs_data_all</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="n">fs_data_all_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">fs_data_all_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fs_data_all_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rcept_no</th>
      <th>reprt_code</th>
      <th>bsns_year</th>
      <th>corp_code</th>
      <th>sj_div</th>
      <th>sj_nm</th>
      <th>account_id</th>
      <th>account_nm</th>
      <th>account_detail</th>
      <th>thstrm_nm</th>
      <th>thstrm_amount</th>
      <th>frmtrm_nm</th>
      <th>frmtrm_amount</th>
      <th>bfefrmtrm_nm</th>
      <th>bfefrmtrm_amount</th>
      <th>ord</th>
      <th>thstrm_add_amount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>ifrs-full_CurrentAssets</td>
      <td>유동자산</td>
      <td>-</td>
      <td>제 51 기</td>
      <td>181385260000000</td>
      <td>제 50 기</td>
      <td>174697424000000</td>
      <td>제 49 기</td>
      <td>146982464000000</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>ifrs-full_CashAndCashEquivalents</td>
      <td>현금및현금성자산</td>
      <td>-</td>
      <td>제 51 기</td>
      <td>26885999000000</td>
      <td>제 50 기</td>
      <td>30340505000000</td>
      <td>제 49 기</td>
      <td>30545130000000</td>
      <td>2</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>dart_ShortTermDepositsNotClassifiedAsCashEquiv...</td>
      <td>단기금융상품</td>
      <td>-</td>
      <td>제 51 기</td>
      <td>76252052000000</td>
      <td>제 50 기</td>
      <td>65893797000000</td>
      <td>제 49 기</td>
      <td>49447696000000</td>
      <td>3</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>-표준계정코드 미사용-</td>
      <td>단기매도가능금융자산</td>
      <td>-</td>
      <td>제 51 기</td>
      <td></td>
      <td>제 50 기</td>
      <td></td>
      <td>제 49 기</td>
      <td>3191375000000</td>
      <td>4</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>BS</td>
      <td>재무상태표</td>
      <td>-표준계정코드 미사용-</td>
      <td>단기상각후원가금융자산</td>
      <td>-</td>
      <td>제 51 기</td>
      <td>3914216000000</td>
      <td>제 50 기</td>
      <td>2703693000000</td>
      <td>제 49 기</td>
      <td></td>
      <td>5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>205</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>SCE</td>
      <td>자본변동표</td>
      <td>ifrs-full_Equity</td>
      <td>기말자본</td>
      <td>자본 [member]|지배기업 소유주지분</td>
      <td>제 51 기</td>
      <td>254915472000000</td>
      <td>제 50 기</td>
      <td>240068993000000</td>
      <td>제 49 기</td>
      <td>207213416000000</td>
      <td>17</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>206</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>SCE</td>
      <td>자본변동표</td>
      <td>ifrs-full_Equity</td>
      <td>기말자본</td>
      <td>자본 [member]|지배기업 소유주지분|기타자본항목</td>
      <td>제 51 기</td>
      <td>-4968829000000</td>
      <td>제 50 기</td>
      <td>-7931370000000</td>
      <td>제 49 기</td>
      <td>-13899191000000</td>
      <td>17</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>207</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>SCE</td>
      <td>자본변동표</td>
      <td>ifrs-full_Equity</td>
      <td>기말자본</td>
      <td>자본 [member]|지배기업 소유주지분|이익잉여금 [member]</td>
      <td>제 51 기</td>
      <td>254582894000000</td>
      <td>제 50 기</td>
      <td>242698956000000</td>
      <td>제 49 기</td>
      <td>215811200000000</td>
      <td>17</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>208</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>SCE</td>
      <td>자본변동표</td>
      <td>ifrs-full_Equity</td>
      <td>기말자본</td>
      <td>자본 [member]|지배기업 소유주지분|자본금 [member]</td>
      <td>제 51 기</td>
      <td>897514000000</td>
      <td>제 50 기</td>
      <td>897514000000</td>
      <td>제 49 기</td>
      <td>897514000000</td>
      <td>17</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>209</th>
      <td>20200330003851</td>
      <td>11011</td>
      <td>2019</td>
      <td>00126380</td>
      <td>SCE</td>
      <td>자본변동표</td>
      <td>ifrs-full_Equity</td>
      <td>기말자본</td>
      <td>자본 [member]|지배기업 소유주지분|주식발행초과금</td>
      <td>제 51 기</td>
      <td>4403893000000</td>
      <td>제 50 기</td>
      <td>4403893000000</td>
      <td>제 49 기</td>
      <td>4403893000000</td>
      <td>17</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>210 rows × 17 columns</p>
</div></div></div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By 이현열<br/>
        
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>